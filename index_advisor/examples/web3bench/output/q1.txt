Alias: q1
Query: 
Select to_address, from_address from transactions where hash = '0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c'

Original Cost: 7.24E+08
Optimized Cost: 4.76E+07
Cost Reduction Ratio: 0.07


===================== original plan =====================
Projection_4             1.00           723862258.89      root                               ethereum.transactions.to_address, ethereum.transactions.from_address                                    
└─TableReader_7          1.00           723862258.69      root                               data:Selection_6                                                                                        
  └─Selection_6          1.00           10857933243.87    cop[tikv]                          eq(ethereum.transactions.hash, "0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c")    
    └─TableFullScan_5    23996584.00    9660503702.27     cop[tikv]    table:transactions    keep order:false                                                                                        

===================== optimized plan =====================
Projection_4                   1.00        47564105.87    root                                                     ethereum.transactions.to_address, ethereum.transactions.from_address                                                                                                   
└─IndexLookUp_10               23996.58    47559316.15    root                                                                                                                                                                                                                            
  ├─IndexRangeScan_8(Build)    23996.58    6274806.63     cop[tikv]    table:transactions, index:idx_hash(hash)    range:["0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c","0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c"], keep order:false    
  └─TableRowIDScan_9(Probe)    23996.58    9660503.70     cop[tikv]    table:transactions                          keep order:false                                                                                                                                                       
  

mysql> explain analyze Select to_address, from_address from transactions where hash = '0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c';
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
| id                        | estRows    | actRows | task      | access object      | execution info                                                                                                                                                                                                                                                                                                                         | operator info                                                                                        | memory  | disk |
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
| Projection_4              | 1.00       | 1       | root      |                    | time:213.6ms, loops:2, RU:11603.261082, Concurrency:OFF                                                                                                                                                                                                                                                                                | ethereum.transactions.to_address, ethereum.transactions.from_address                                 | 1.86 KB | N/A  |
| └─TableReader_7           | 1.00       | 1       | root      |                    | time:213.6ms, loops:2, cop_task: {num: 71, max: 156.9ms, min: 185.2µs, avg: 31.2ms, p95: 124.6ms, max_proc_keys: 81748, p95_proc_keys: 79504, tot_proc: 2.19s, tot_wait: 1.98ms, rpc_num: 71, rpc_time: 2.22s, copr_cache_hit_ratio: 0.70, build_task_duration: 126.5µs, max_distsql_concurrency: 15}                                  | data:Selection_6                                                                                     | 1.18 KB | N/A  |
|   └─Selection_6           | 1.00       | 1       | cop[tikv] |                    | tikv_task:{proc max:278ms, min:68ms, avg: 162.4ms, p80:210ms, p95:240ms, iters:5587, tasks:71}, scan_detail: {total_process_keys: 1585815, total_process_keys_size: 710384849, total_keys: 1585836, get_snapshot_time: 797.1µs, rocksdb: {delete_skipped_count: 402465, key_skipped_count: 3574074, block: {cache_hit_count: 24046}}}  | eq(ethereum.transactions.hash, "0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c") | N/A     | N/A  |
|     └─TableFullScan_5     | 5395060.00 | 5395060 | cop[tikv] | table:transactions | tikv_task:{proc max:263ms, min:60ms, avg: 152.7ms, p80:196ms, p95:221ms, iters:5587, tasks:71}                                                                                                                                                                                                                                         | keep order:false                                                                                     | N/A     | N/A  |
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
4 rows in set (0.22 sec)

mysql> explain analyze Select to_address, from_address from transactions where hash = '0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c';
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
| id                        | estRows    | actRows | task      | access object      | execution info                                                                                                                                                                                                                                                                                                                         | operator info                                                                                        | memory  | disk |
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
| Projection_4              | 1.00       | 1       | root      |                    | time:192.7ms, loops:2, RU:11618.913857, Concurrency:OFF                                                                                                                                                                                                                                                                                | ethereum.transactions.to_address, ethereum.transactions.from_address                                 | 4.99 KB | N/A  |
| └─TableReader_7           | 1.00       | 1       | root      |                    | time:192.7ms, loops:2, cop_task: {num: 71, max: 164.4ms, min: 199µs, avg: 31.9ms, p95: 130.5ms, max_proc_keys: 81748, p95_proc_keys: 79504, tot_proc: 2.24s, tot_wait: 2.29ms, rpc_num: 71, rpc_time: 2.26s, copr_cache_hit_ratio: 0.70, build_task_duration: 145.1µs, max_distsql_concurrency: 15}                                    | data:Selection_6                                                                                     | 2.55 KB | N/A  |
|   └─Selection_6           | 1.00       | 1       | cop[tikv] |                    | tikv_task:{proc max:278ms, min:69ms, avg: 162.9ms, p80:210ms, p95:240ms, iters:5587, tasks:71}, scan_detail: {total_process_keys: 1585815, total_process_keys_size: 710384849, total_keys: 1585836, get_snapshot_time: 880.7µs, rocksdb: {delete_skipped_count: 402465, key_skipped_count: 3574074, block: {cache_hit_count: 24046}}}  | eq(ethereum.transactions.hash, "0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c") | N/A     | N/A  |
|     └─TableFullScan_5     | 5395060.00 | 5395060 | cop[tikv] | table:transactions | tikv_task:{proc max:263ms, min:63ms, avg: 153.4ms, p80:196ms, p95:221ms, iters:5587, tasks:71}                                                                                                                                                                                                                                         | keep order:false                                                                                     | N/A     | N/A  |
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
4 rows in set (0.20 sec)

mysql> explain analyze Select to_address, from_address from transactions where hash = '0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c';
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
| id                        | estRows    | actRows | task      | access object      | execution info                                                                                                                                                                                                                                                                                                                         | operator info                                                                                        | memory  | disk |
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
| Projection_4              | 1.00       | 1       | root      |                    | time:179.8ms, loops:2, RU:11005.292710, Concurrency:OFF                                                                                                                                                                                                                                                                                | ethereum.transactions.to_address, ethereum.transactions.from_address                                 | 1.86 KB | N/A  |
| └─TableReader_7           | 1.00       | 1       | root      |                    | time:179.8ms, loops:2, cop_task: {num: 71, max: 146.8ms, min: 174.7µs, avg: 28ms, p95: 129.7ms, max_proc_keys: 81748, p95_proc_keys: 79385, tot_proc: 1.96s, tot_wait: 2.4ms, rpc_num: 71, rpc_time: 1.99s, copr_cache_hit_ratio: 0.72, build_task_duration: 128.4µs, max_distsql_concurrency: 15}                                     | data:Selection_6                                                                                     | 3.25 KB | N/A  |
|   └─Selection_6           | 1.00       | 1       | cop[tikv] |                    | tikv_task:{proc max:278ms, min:74ms, avg: 160.4ms, p80:210ms, p95:240ms, iters:5587, tasks:71}, scan_detail: {total_process_keys: 1505888, total_process_keys_size: 676190836, total_keys: 1505908, get_snapshot_time: 893.3µs, rocksdb: {delete_skipped_count: 402465, key_skipped_count: 3414221, block: {cache_hit_count: 22893}}}  | eq(ethereum.transactions.hash, "0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c") | N/A     | N/A  |
|     └─TableFullScan_5     | 5395060.00 | 5395060 | cop[tikv] | table:transactions | tikv_task:{proc max:263ms, min:61ms, avg: 150.7ms, p80:196ms, p95:221ms, iters:5587, tasks:71}                                                                                                                                                                                                                                         | keep order:false                                                                                     | N/A     | N/A  |
+---------------------------+------------+---------+-----------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+---------+------+
4 rows in set (0.18 sec)










mysql> explain analyze Select to_address, from_address from transactions where hash = '0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c';
+---------------------------------+---------+---------+-----------+------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+------+
| id                              | estRows | actRows | task      | access object                            | execution info                                                                                                                                                                                                                                                                                                                                                                                                                                     | operator info                                                                                                                                                       | memory  | disk |
+---------------------------------+---------+---------+-----------+------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+------+
| Projection_4                    | 1.00    | 1       | root      |                                          | time:1.52ms, loops:2, RU:1.017498, Concurrency:OFF                                                                                                                                                                                                                                                                                                                                                                                                 | ethereum.transactions.to_address, ethereum.transactions.from_address                                                                                                | 39.3 KB | N/A  |
| └─IndexLookUp_10                | 1.00    | 1       | root      |                                          | time:1.51ms, loops:2, index_task: {total_time: 814.3µs, fetch_handle: 812.5µs, build: 818ns, wait: 970ns}, table_task: {total_time: 595.4µs, num: 1, concurrency: 5}, next: {wait_index: 923.4µs, wait_table_lookup_build: 38.6µs, wait_table_lookup_resp: 527.9µs}                                                                                                                                                                                |                                                                                                                                                                     | 72.5 KB | N/A  |
|   ├─IndexRangeScan_8(Build)     | 1.00    | 1       | cop[tikv] | table:transactions, index:idx_hash(hash) | time:807.3µs, loops:3, cop_task: {num: 1, max: 743µs, proc_keys: 1, tot_proc: 100.3µs, tot_wait: 141.2µs, rpc_num: 1, rpc_time: 723.8µs, copr_cache_hit_ratio: 0.00, build_task_duration: 17.5µs, max_distsql_concurrency: 1}, tikv_task:{time:0s, loops:1}, scan_detail: {total_process_keys: 1, total_process_keys_size: 202, total_keys: 2, get_snapshot_time: 120.6µs, rocksdb: {key_skipped_count: 1, block: {cache_hit_count: 3}}}           | range:["0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c","0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c"], keep order:false | N/A     | N/A  |
|   └─TableRowIDScan_9(Probe)     | 1.00    | 1       | cop[tikv] | table:transactions                       | time:512.2µs, loops:2, cop_task: {num: 1, max: 453.4µs, proc_keys: 1, tot_proc: 77.5µs, tot_wait: 72.8µs, rpc_num: 1, rpc_time: 439.8µs, copr_cache_hit_ratio: 0.00, build_task_duration: 29.8µs, max_distsql_concurrency: 1, max_extra_concurrency: 1}, tikv_task:{time:0s, loops:1}, scan_detail: {total_process_keys: 1, total_process_keys_size: 338, total_keys: 1, get_snapshot_time: 49.2µs, rocksdb: {block: {cache_hit_count: 5}}}        | keep order:false                                                                                                                                                    | N/A     | N/A  |
+---------------------------------+---------+---------+-----------+------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+------+
4 rows in set (0.00 sec)

mysql> explain analyze Select to_address, from_address from transactions where hash = '0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c';
+---------------------------------+---------+---------+-----------+------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+------+
| id                              | estRows | actRows | task      | access object                            | execution info                                                                                                                                                                                                                                                                                                                                                                                                                                     | operator info                                                                                                                                                       | memory  | disk |
+---------------------------------+---------+---------+-----------+------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+------+
| Projection_4                    | 1.00    | 1       | root      |                                          | time:2.27ms, loops:2, RU:1.033300, Concurrency:OFF                                                                                                                                                                                                                                                                                                                                                                                                 | ethereum.transactions.to_address, ethereum.transactions.from_address                                                                                                | 48.7 KB | N/A  |
| └─IndexLookUp_10                | 1.00    | 1       | root      |                                          | time:2.26ms, loops:2, index_task: {total_time: 1.29ms, fetch_handle: 1.28ms, build: 975ns, wait: 11.6µs}, table_task: {total_time: 745.3µs, num: 1, concurrency: 5}, next: {wait_index: 1.47ms, wait_table_lookup_build: 116.1µs, wait_table_lookup_resp: 623.1µs}                                                                                                                                                                                 |                                                                                                                                                                     | 55.7 KB | N/A  |
|   ├─IndexRangeScan_8(Build)     | 1.00    | 1       | cop[tikv] | table:transactions, index:idx_hash(hash) | time:1.27ms, loops:3, cop_task: {num: 1, max: 1.15ms, proc_keys: 1, tot_proc: 148µs, tot_wait: 91.5µs, rpc_num: 1, rpc_time: 1.1ms, copr_cache_hit_ratio: 0.00, build_task_duration: 37.5µs, max_distsql_concurrency: 1}, tikv_task:{time:0s, loops:1}, scan_detail: {total_process_keys: 1, total_process_keys_size: 202, total_keys: 2, get_snapshot_time: 36.6µs, rocksdb: {key_skipped_count: 1, block: {cache_hit_count: 3}}}                 | range:["0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c","0x1f415defb2729863fd8088727900d99b7df6f03d5e22e2105fc984cac3d0fb1c"], keep order:false | N/A     | N/A  |
|   └─TableRowIDScan_9(Probe)     | 1.00    | 1       | cop[tikv] | table:transactions                       | time:599.9µs, loops:2, cop_task: {num: 1, max: 501.9µs, proc_keys: 1, tot_proc: 77.2µs, tot_wait: 44.7µs, rpc_num: 1, rpc_time: 477.7µs, copr_cache_hit_ratio: 0.00, build_task_duration: 43.7µs, max_distsql_concurrency: 1, max_extra_concurrency: 1}, tikv_task:{time:0s, loops:1}, scan_detail: {total_process_keys: 1, total_process_keys_size: 338, total_keys: 1, get_snapshot_time: 19.4µs, rocksdb: {block: {cache_hit_count: 5}}}        | keep order:false                                                                                                                                                    | N/A     | N/A  |
+---------------------------------+---------+---------+-----------+------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+------+
4 rows in set (0.00 sec)